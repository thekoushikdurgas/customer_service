<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Share Pro</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Roboto:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Application Container -->
    <div id="app" class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">Screen Share Pro</h1>
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Ready to share</span>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Video Display Area -->
            <div class="video-container" id="videoContainer">
                <video 
                    id="sharedVideo" 
                    class="shared-video hidden" 
                    autoplay 
                    muted 
                    playsinline>
                </video>
                
                <!-- Welcome/Placeholder State -->
                <div class="welcome-state" id="welcomeState">
                    <div class="welcome-content">
                        <div class="welcome-icon">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                                <line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2"/>
                                <line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <h2 class="welcome-title">Share Your Screen</h2>
                        <p class="welcome-description">
                            Click "Start Sharing" to begin sharing your screen, window, or browser tab with others.
                        </p>
                        <div class="welcome-features">
                            <div class="feature-item">
                                <span class="feature-icon">üñ•Ô∏è</span>
                                <span>Share entire screen</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">ü™ü</span>
                                <span>Share application window</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">üåê</span>
                                <span>Share browser tab</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loading State -->
                <div class="loading-state hidden" id="loadingState">
                    <div class="loading-content">
                        <div class="loading-spinner"></div>
                        <p class="loading-text">Initializing screen share...</p>
                    </div>
                </div>

                <!-- Error State -->
                <div class="error-state hidden" id="errorState">
                    <div class="error-content">
                        <div class="error-icon">‚ö†Ô∏è</div>
                        <h3 class="error-title">Something went wrong</h3>
                        <p class="error-message" id="errorMessage">
                            Unable to access screen sharing. Please check your browser permissions.
                        </p>
                        <button class="btn btn--primary" onclick="screenShare.handleRetry()">
                            Try Again
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Floating Control Panel -->
        <div class="floating-controls" id="floatingControls">
            <div class="control-panel">
                <!-- Primary Share Button -->
                <button 
                    class="btn btn--primary btn--large share-button" 
                    id="shareButton"
                    onclick="screenShare.toggleSharing()">
                    <span class="button-icon" id="shareButtonIcon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                            <line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2"/>
                            <line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </span>
                    <span id="shareButtonText">Start Sharing</span>
                </button>

                <!-- Secondary Controls (shown when sharing) -->
                <div class="secondary-controls hidden" id="secondaryControls">
                    <!-- Fullscreen Toggle -->
                    <button 
                        class="btn btn--secondary control-btn" 
                        id="fullscreenButton"
                        onclick="screenShare.toggleFullscreen()"
                        title="Toggle fullscreen">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>

                    <!-- Settings Menu -->
                    <button 
                        class="btn btn--secondary control-btn" 
                        id="settingsButton"
                        onclick="screenShare.toggleSettings()"
                        title="Settings">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 1v6m0 6v6M5.64 7.05l4.24 4.24m4.24 0l4.24-4.24M1 12h6m6 0h6m-4.36 4.95L12 12l-4.24 4.24" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="settings-panel hidden" id="settingsPanel">
                <div class="settings-content">
                    <h3>Settings</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="includeAudio" checked>
                            <span class="checkmark"></span>
                            Include system audio
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            Video Quality
                            <select class="form-control" id="videoQuality">
                                <option value="720p">720p</option>
                                <option value="1080p" selected>1080p</option>
                                <option value="1440p">1440p</option>
                            </select>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Browser Support Notice -->
        <div class="browser-notice hidden" id="browserNotice">
            <div class="notice-content">
                <p>‚ö†Ô∏è Screen sharing is not supported in your browser. Please use Chrome 72+, Firefox 66+, Safari 13+, or Edge 79+.</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>